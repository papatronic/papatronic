(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{409:function(e,t,a){e.exports=a.p+"static/media/TecNM-ITC-Logo.3a73b6a0.png"},456:function(e,t,a){e.exports=a(820)},484:function(e,t){},486:function(e,t){},516:function(e,t){},517:function(e,t){},582:function(e,t){},679:function(e,t,a){},812:function(e,t,a){},813:function(e,t,a){},814:function(e,t,a){},815:function(e,t,a){},816:function(e,t,a){},817:function(e,t,a){},818:function(e,t,a){},820:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(19),o=a.n(i),c=a(93),l=a(188),s=a(34),u=a.n(s),d=a(58),m=a(144),p=a.n(m),f="FETCH_PREDICTION_BEGIN",h="FETCH_PREDICTION_SUCCESS",g="FETCH_PREDICTION_FAILURE";function b(){return(b=Object(d.a)(u.a.mark(function e(t,a){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p()({method:"POST",json:!0,uri:"".concat("https://api.papaforecast.com","/predict"),body:{type:t,id:a}});case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}var y=function(){return{type:f}},E=function(e){return{type:h,payload:{predictions:e}}},v=function(e){return{type:g,payload:{error:e}}};function O(e,t){return function(a){return a(y()),function(e,t){return b.apply(this,arguments)}(e,t).then(function(e){return a(E(e)),e}).catch(function(e){a(v(e))})}}var k=a(150),C="FETCH_CITIES_BEGIN",S="FETCH_CITIES_SUCCESS",_="FETCH_CITIES_FAILURE";function j(){return(j=Object(d.a)(u.a.mark(function e(){var t,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p()({uri:"https://pflq8ys7zi.execute-api.us-east-2.amazonaws.com/default/get_origin_cities",json:!0});case 2:return t=e.sent,e.next=5,p()({uri:"https://qrji49w5zl.execute-api.us-east-2.amazonaws.com/default/get_destiny_cities",json:!0});case 5:return a=e.sent,e.abrupt("return",{origins:t,destinations:a});case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var w=function(){return{type:C}},x=function(e,t){return{type:S,payload:{cities:e,originCities:t}}},N=function(e){return{type:_,payload:{error:e}}};function I(){return function(e){return e(w()),function(){return j.apply(this,arguments)}().then(function(t){var a=t.origins,n=t.destinations;return e(x([].concat(Object(k.a)(a),Object(k.a)(n)),a))}).catch(function(t){e(N(t))})}}var M="SELECTED_CITY";function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(a,!0).forEach(function(t){Object(l.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var z={predictions:[],cities:[],originCities:[],city:{},loading:!1,error:null};var P=Object(c.c)({predictionsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return T({},e,{loading:!0,error:null});case h:return T({},e,{loading:!1,predictions:JSON.parse(JSON.stringify(t.payload.predictions)),city:42,someValue:JSON.parse(JSON.stringify(t.payload.predictions))});case g:return T({},e,{loading:!1,error:t.payload.error,predictions:[]});case C:return T({},e,{loading:!0,error:null});case S:return T({},e,{cities:t.payload.cities,originCities:t.payload.originCities,city:t.payload.cities[0].id});case _:return T({},e,{error:t.payload.error,cities:[]});case M:return T({},e,{city:t.payload.city,predictions:e.someValue});default:return e}}}),D=a(397),A=(a(679),a(410)),R=a(84),B=a(192),W=a(398),L=a(399),H=a(412),q=a(400),J=a(98),X=a(413),U=a(874),G=a(876),V=a(877),Y=a(415),K=a(145),Q=a.n(K),Z="Pronosticador del precio de la papa",$="Precio estimado para",ee="Acerca de",te="Ocurri\xf3 un problema",ae="Al parecer ocurri\xf3 un problema conectando con nuestro servidor. Espere un momento y de click en continuar.",ne="Acerca de este sitio",re="",ie=new Intl.NumberFormat("es-MX",{currency:"MXN",style:"currency"});function oe(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],a=0,n=0;a<7;a++,n++){var r=Q()().add(n,"days"),i=r.isoWeekday();if(7!==i&&6!==i){var o=r.format("dd"),c=r.date(),l=r.format("MM"),s=e.length>0?Number(e.shift()).toFixed(2):0;t.push({dia:"".concat(o," ").concat(c," de ").concat(l),precio:s})}}return t}var ce=Object(U.a)({card:{minWidth:"100%"},title:{fontSize:20},pos:{marginBottom:12},subtitle:{textAlign:"center"}});function le(e){var t=ce(),a=e.prediction?e.prediction:0;return r.a.createElement(G.a,{className:t.card},r.a.createElement(V.a,null,r.a.createElement(Y.a,{className:t.title,color:"textSecondary",gutterBottom:!0},function(){switch(Q()().isoWeekday()){case 6:case 7:default:return"".concat($," el d\xeda de hoy")}}()),r.a.createElement(Y.a,{variant:"h5",component:"h2",className:t.subtitle},ie.format(a))))}var se=a(414),ue=a(878),de=a(882),me=a(881),pe=a(879),fe=a(880),he=Object(U.a)({root:{width:"100%",overflowX:"auto"},table:{minWidth:"98%"}});function ge(e){var t=oe(e.prediction),a=he();return r.a.createElement(se.a,{className:a.root},r.a.createElement(ue.a,{className:a.table,"aria-label":"simple table"},r.a.createElement(pe.a,null,r.a.createElement(fe.a,null,r.a.createElement(me.a,{align:"left"},"Fecha"),r.a.createElement(me.a,{align:"left"},"Precio"))),r.a.createElement(de.a,null,t.map(function(e){return r.a.createElement(fe.a,{key:e.dia},r.a.createElement(me.a,{align:"left"},e.dia),r.a.createElement(me.a,{align:"left"},ie.format(e.precio)," MXN"))}))))}var be=a(401),ye={fontFamily:"roboto",height:"100px"};function Ee(e){console.log({props:e.prediction});var t=oe(e.prediction);return console.log({props:t}),r.a.createElement(be.a,{style:ye,data:t,keys:["precio"],indexBy:"dia",margin:{top:50,right:130,bottom:50,left:60},padding:.3,colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"fries"},id:"dots"},{match:{id:"sandwich"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"predicciones semanales",legendPosition:"middle",legendOffset:32},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"precio",legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20,effects:[{on:"hover",style:{itemOpacity:1}}]}],animate:!0,motionStiffness:90,motionDamping:15})}a(812);function ve(e){var t=e.predictions.length>0?Object(k.a)(e.predictions):[];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Chart"},r.a.createElement(Ee,{prediction:e.predictions})),r.a.createElement("div",{className:"DailyAndTable"},r.a.createElement(le,{prediction:e.predictions[0]}),r.a.createElement(ge,{prediction:t})))}var Oe=a(891),ke=a(892),Ce=a(893),Se=Object(U.a)(function(e){return{menuButton:{marginRight:e.spacing(2)},title:Object(l.a)({flexGrow:1,fontSize:"0.9em"},e.breakpoints.down("1000"),{fontSize:"0.6em"})}});function _e(e){var t=Se();return r.a.createElement(Oe.a,{position:"static"},r.a.createElement(ke.a,null,r.a.createElement(Y.a,{variant:"h6",className:t.title},Z),r.a.createElement(Ce.a,{onClick:e.handleOpen,color:"inherit"},ee)))}var je=a(896),we=a(908),xe=a(895),Ne=a(894),Ie=a(902),Me=(a(813),Object(U.a)(function(e){return{select:{minWidth:"100%",fontSize:"0.3em",marginTop:e.spacing(2)},formControl:{fontSize:"calc(1em + 1vw)",display:"flex",minWidth:"100%",maxWidth:"100%"}}}));var Fe=function(e){var t=Me(),a="".concat(t.formControl," FormSize"),n="".concat(t.select," SelectSize");return r.a.createElement(Ne.a,{className:a},r.a.createElement(Ie.a,{value:e.selectedMarket,onChange:function(t){return e.handleOnChange(t)},displayEmpty:!0,name:"markets",className:n},e.markets.map(function(e){return r.a.createElement(we.a,{style:{fontSize:"0.8em"},key:e.id,value:e.id},e.city)})),r.a.createElement(xe.a,{style:{fontSize:"0.3em"}},"Seleccione un estado"))},Te=(a(814),Object(U.a)({card:{height:"45%",maxWidth:"90%"},title:{fontSize:"0.7em"},subtitle:{fontSize:"0.5em"},cardActions:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"45%"}}));function ze(e){var t=Te();return r.a.createElement(G.a,{className:t.card},r.a.createElement(V.a,{className:t.cardContent},r.a.createElement(Y.a,{className:t.title,color:"textPrimary",gutterBottom:!0},"Cambiar estado"),r.a.createElement(Y.a,{className:t.subtitle,color:"textSecondary",gutterBottom:!0},"Seleccione el estado del cual busca obtener predicciones")),r.a.createElement(je.a,{className:t.cardActions},r.a.createElement(Fe,{selectedMarket:e.selectedMarket,handleOnChange:e.handleOnSelect,markets:e.markets}),r.a.createElement(Ce.a,{className:"FilterButton",onClick:e.handleOnFilter,variant:"contained"},"Predecir")))}var Pe=a(409),De=a.n(Pe);a(815);function Ae(){return r.a.createElement("div",{className:"ImageContainer"},r.a.createElement("img",{className:"TecNMSize",src:De.a,alt:"Logo horizontal del Tecnol\xf3gico Nacional de M\xe9xico seguido del logo del Instituto Tecnol\xf3gico de Culiac\xe1n"}))}var Re=a(897);a(816);function Be(){return r.a.createElement("div",{className:"Loading"},r.a.createElement(Re.a,{color:"secondary"}))}var We=a(906),Le=a(901),He=a(899),qe=a(900),Je=a(898);function Xe(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(We.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Je.a,{id:"alert-dialog-title"},e.title),r.a.createElement(He.a,null,r.a.createElement(qe.a,{id:"alert-dialog-description"},e.message)),r.a.createElement(Le.a,null,r.a.createElement(Ce.a,{onClick:e.handleClose,color:"primary",autoFocus:!0},"Continuar"))))}a(817);function Ue(){return r.a.createElement("footer",{className:"Footer"},r.a.createElement("h6",{className:"FooterText"},"Tecnol\xf3gico Nacional de M\xe9xico | Instituto Tecnol\xf3gico de Culiac\xe1n"))}a(818);var Ge=function(e){function t(){var e;return Object(W.a)(this,t),(e=Object(H.a)(this,Object(q.a)(t).call(this))).state={errorInRequest:!1,modalOpen:!1,aboutModalOpen:!0},e.handleOnSelect=e.handleOnSelect.bind(Object(J.a)(e)),e.handleOnFilter=e.handleOnFilter.bind(Object(J.a)(e)),e.handleModalClose=e.handleModalClose.bind(Object(J.a)(e)),e.switchAboutModal=e.switchAboutModal.bind(Object(J.a)(e)),e}return Object(X.a)(t,e),Object(L.a)(t,[{key:"handleOnSelect",value:function(){var e=Object(d.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.props.dispatch((a=t.target.value,{type:M,payload:{city:a}}));case 1:case"end":return e.stop()}var a},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleOnFilter",value:function(){var e=Object(d.a)(u.a.mark(function e(){var t,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.city,a=this.props.originCities.findIndex(function(e){return e.id===t})>-1?0:1,e.prev=2,this.props.dispatch(O(a,t)),e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(2),e.next=10,this.setState({errorInRequest:!0,modalOpen:!0,errorMessage:"Ocurri\xf3 un error al momento de consultar las ciudades disponibles. Int\xe9ntelo m\xe1s tarde. Al hacer click en continuar se recargar\xe1 el sitio."});case 10:case"end":return e.stop()}},e,this,[[2,6]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,this.props.dispatch(I()),this.props.dispatch(O(0,42)),e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.next=9,this.setState({errorInRequest:!0});case 9:case"end":return e.stop()}},e,this,[[0,5]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleModalClose",value:function(){var e=Object(d.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({errorInRequest:!1});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"switchAboutModal",value:function(){var e=Object(d.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState(function(e){return{aboutModalOpen:!e.aboutModalOpen}});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.modalOpen,a=e.errorInRequest,n=e.aboutModalOpen,i=this.props,o=i.error,c=i.loading,l=i.predictions,s=i.cities,u=i.city;return n?r.a.createElement(Xe,{open:n,title:ne,message:re,handleClose:this.switchAboutModal}):a||o?r.a.createElement(Xe,{open:t,title:te,message:ae,handleClose:this.handleModalClose}):r.a.createElement("div",{className:"Flex CustomFontSize"},r.a.createElement("div",null,r.a.createElement(_e,{open:n,title:ne,message:re,handleOpen:this.switchAboutModal})),r.a.createElement("div",{className:"PageElements"},r.a.createElement("div",{className:"InformationElements"},r.a.createElement("div",{className:"LogosAndFilter"},r.a.createElement(Ae,null),r.a.createElement(ze,{selectedMarket:u,markets:s,handleOnSelect:this.handleOnSelect,handleDirectionChange:this.handleDirectionChange,handleOnFilter:this.handleOnFilter})),c?r.a.createElement(Be,null):r.a.createElement(ve,{predictions:l})),r.a.createElement(Ue,null)))}}]),t}(n.Component),Ve=Object(B.b)(function(e){return e.predictionsReducer})(Ge);var Ye=function(e){var t=e.store;return r.a.createElement(B.a,{store:t},r.a.createElement(A.a,null,r.a.createElement(R.c,null,r.a.createElement(R.a,{exact:!0,path:"/",component:Ve}),r.a.createElement(R.a,{path:"*",component:Ve}))))};Q.a.locale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekdaysMin:"Do_Lu_Ma_Mie_Jue_Vie_Sa".split("_"),weekdaysShort:"do._lun._ma._mie._jue._vie._sa.".split("_"),weekdays:"domingo_lunes_martes_miercoles_jueves_viernes_sabado".split("_"),weekdaysParseExact:!0});var Ke=Object(c.d)(P,Object(c.a)(D.a));o.a.render(r.a.createElement(Ye,{store:Ke}),document.getElementById("root"))}},[[456,1,2]]]);
//# sourceMappingURL=main.3a262ffb.chunk.js.map