(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{409:function(e,t,n){e.exports=n.p+"static/media/TecNM-ITC-Logo.3a73b6a0.png"},456:function(e,t,n){e.exports=n(819)},484:function(e,t){},486:function(e,t){},516:function(e,t){},517:function(e,t){},582:function(e,t){},679:function(e,t,n){},812:function(e,t,n){},813:function(e,t,n){},814:function(e,t,n){},815:function(e,t,n){},816:function(e,t,n){},817:function(e,t,n){},819:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(19),o=n.n(i),c=n(93),l=n(188),s=n(34),u=n.n(s),d=n(58),p=n(144),m=n.n(p),f="FETCH_PREDICTION_BEGIN",h="FETCH_PREDICTION_SUCCESS",b="FETCH_PREDICTION_FAILURE";function E(){return(E=Object(d.a)(u.a.mark(function e(t,n){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log({type:t,id:n}),e.prev=1,e.next=4,m()({method:"POST",json:!0,uri:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_PREDICT_EC2_ENDPOINT,"/predict"),body:{type:t,id:n}});case 4:return a=e.sent,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}},e,null,[[1,8]])}))).apply(this,arguments)}var g=function(){return{type:f}},y=function(e){return{type:h,payload:{predictions:e}}},v=function(e){return{type:b,payload:{error:e}}};function O(e,t){return function(n){return n(g()),function(e,t){return E.apply(this,arguments)}(e,t).then(function(e){return n(y(e)),e}).catch(function(e){n(v(e))})}}var _=n(150),C="FETCH_CITIES_BEGIN",S="FETCH_CITIES_SUCCESS",k="FETCH_CITIES_FAILURE";function N(){return(N=Object(d.a)(u.a.mark(function e(){var t,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({uri:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_ORIGIN_CITIES_LAMBDA_ENDPOINT,json:!0});case 2:return t=e.sent,e.next=5,m()({uri:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_DESTINATION_CITIES_LAMBDA_ENDPOINT,json:!0});case 5:return n=e.sent,e.abrupt("return",{origins:t,destinations:n});case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var j=function(){return{type:C}},w=function(e,t){return{type:S,payload:{cities:e,originCities:t}}},I=function(e){return{type:k,payload:{error:e}}};function x(){return function(e){return e(j()),function(){return N.apply(this,arguments)}().then(function(t){var n=t.origins,a=t.destinations;return e(w([].concat(Object(_.a)(n),Object(_.a)(a)),n))}).catch(function(t){e(I(t))})}}var T="SELECTED_CITY";function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(n,!0).forEach(function(t){Object(l.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var A={predictions:[],cities:[],originCities:[],city:{},loading:!1,error:null};var D=Object(c.c)({predictionsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return M({},e,{loading:!0,error:null});case h:return M({},e,{loading:!1,predictions:JSON.parse(JSON.stringify(t.payload.predictions)),someValue:JSON.parse(JSON.stringify(t.payload.predictions))});case b:return M({},e,{loading:!1,error:t.payload.error,predictions:[]});case C:return M({},e,{loading:!0,error:null});case S:return M({},e,{cities:t.payload.cities,originCities:t.payload.originCities,city:t.payload.cities[0]});case k:return M({},e,{error:t.payload.error,cities:[]});case T:return M({},e,{city:t.payload.city,predictions:e.someValue});default:return e}}}),F=n(397),R=(n(679),n(410)),z=n(84),L=n(192);var B=function(){return r.a.createElement("div",null,"Hello! Im the about component!")},W=n(398),U=n(399),H=n(412),J=n(400),V=n(98),q=n(413),X=n(873),G=n(875),Y=n(876),K=n(415),Q=n(145),Z=n.n(Q),$="Tecnol\xf3gico Nacional de M\xe9xico | Instituto Tecnol\xf3gico de Culiac\xe1n",ee="Precio estimado para",te="Acerca de",ne="Ocurri\xf3 un problema",ae="Al parecer ocurri\xf3 un problema conectando con nuestro servidor. Espere un momento y de click en continuar.",re="Acerca de este sitio",ie="";function oe(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],n=0,a=0;n<7;n++,a++){var r=Z()().add(a,"days"),i=r.isoWeekday();if(7!==i&&6!==i){var o=r.format("dd"),c=r.date(),l=r.format("MM"),s=e.length>0?e.shift():"0";t.push({dia:"".concat(o," ").concat(c," de ").concat(l),precio:s})}}return t}var ce=new Intl.NumberFormat("es-MX",{currency:"MXN",style:"currency"});var le=Object(X.a)({card:{minWidth:"100%"},title:{fontSize:20},pos:{marginBottom:12},subtitle:{textAlign:"center"}});function se(e){var t=le(),n=e.prediction?e.prediction:0;return r.a.createElement(G.a,{className:t.card},r.a.createElement(Y.a,null,r.a.createElement(K.a,{className:t.title,color:"textSecondary",gutterBottom:!0},function(){switch(Z()().isoWeekday()){case 6:case 7:return"".concat(ee," el pr\xf3ximo lunes");default:return"".concat(ee," el d\xeda de hoy")}}()),r.a.createElement(K.a,{variant:"h5",component:"h2",className:t.subtitle},ce.format(n))))}var ue=n(414),de=n(877),pe=n(881),me=n(880),fe=n(878),he=n(879),be=Object(X.a)({root:{width:"100%",overflowX:"auto"},table:{minWidth:"98%"}});function Ee(e){var t=oe(e.prediction),n=be();return r.a.createElement(ue.a,{className:n.root},r.a.createElement(de.a,{className:n.table,"aria-label":"simple table"},r.a.createElement(fe.a,null,r.a.createElement(he.a,null,r.a.createElement(me.a,{align:"left"},"Fecha"),r.a.createElement(me.a,{align:"left"},"Precio"))),r.a.createElement(pe.a,null,t.map(function(e){return r.a.createElement(he.a,{key:e.dia},r.a.createElement(me.a,{align:"left"},e.dia),r.a.createElement(me.a,{align:"left"},ce.format(e.precio)," MXN"))}))))}var ge=n(401),ye={fontFamily:"roboto",height:"100px"};function ve(e){var t=oe(e.prediction);return r.a.createElement(ge.a,{style:ye,data:t,keys:["precio"],indexBy:"dia",margin:{top:50,right:130,bottom:50,left:60},padding:.3,colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"fries"},id:"dots"},{match:{id:"sandwich"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"predicciones semanales",legendPosition:"middle",legendOffset:32},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"precio",legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20,effects:[{on:"hover",style:{itemOpacity:1}}]}],animate:!0,motionStiffness:90,motionDamping:15})}n(812);function Oe(e){var t=e.predictions.length>0?Object(_.a)(e.predictions):[];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Chart"},r.a.createElement(ve,{prediction:e.predictions})),r.a.createElement("div",{className:"DailyAndTable"},r.a.createElement(se,{prediction:e.predictions[0]}),r.a.createElement(Ee,{prediction:t})))}var _e=n(890),Ce=n(891),Se=n(892),ke=Object(X.a)(function(e){return{menuButton:{marginRight:e.spacing(2)},title:Object(l.a)({flexGrow:1,fontSize:"0.9em"},e.breakpoints.down("1000"),{fontSize:"0.6em"})}});function Ne(e){var t=ke();return r.a.createElement(_e.a,{position:"static"},r.a.createElement(Ce.a,null,r.a.createElement(K.a,{variant:"h6",className:t.title},$),r.a.createElement(Se.a,{onClick:e.handleOpen,color:"inherit"},te)))}var je=n(895),we=n(907),Ie=n(894),xe=n(893),Te=n(901),Pe=(n(813),Object(X.a)(function(e){return{select:{minWidth:"100%",fontSize:"0.3em",marginTop:e.spacing(2)},formControl:{fontSize:"calc(1em + 1vw)",display:"flex",minWidth:"100%",maxWidth:"100%"}}}));var Me=function(e){var t=Pe(),n="".concat(t.formControl," FormSize"),a="".concat(t.select," SelectSize");return r.a.createElement(xe.a,{className:n},r.a.createElement(Te.a,{value:e.selectedMarket,onChange:function(t){return e.handleOnChange(t)},displayEmpty:!0,name:"markets",className:a},e.markets.map(function(e){return r.a.createElement(we.a,{style:{fontSize:"0.8em"},key:e.id,value:e.id},e.city)})),r.a.createElement(Ie.a,{style:{fontSize:"0.3em"}},"Seleccione un estado"))},Ae=(n(814),Object(X.a)({card:{height:"45%",maxWidth:"90%"},title:{fontSize:"0.7em"},subtitle:{fontSize:"0.5em"},cardActions:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"45%"}}));function De(e){var t=Ae();return r.a.createElement(G.a,{className:t.card},r.a.createElement(Y.a,{className:t.cardContent},r.a.createElement(K.a,{className:t.title,color:"textPrimary",gutterBottom:!0},"Cambiar estado"),r.a.createElement(K.a,{className:t.subtitle,color:"textSecondary",gutterBottom:!0},"Seleccione el estado del cual busca obtener predicciones")),r.a.createElement(je.a,{className:t.cardActions},r.a.createElement(Me,{selectedMarket:e.selectedMarket,handleOnChange:e.handleOnSelect,markets:e.markets}),r.a.createElement(Se.a,{className:"FilterButton",onClick:e.handleOnFilter,variant:"contained"},"Predecir")))}var Fe=n(409),Re=n.n(Fe);n(815);function ze(){return r.a.createElement("div",null,r.a.createElement("img",{className:"TecNMSize",src:Re.a,alt:"Logo horizontal del Tecnol\xf3gico Nacional de M\xe9xico seguido del logo del Instituto Tecnol\xf3gico de Culiac\xe1n"}))}var Le=n(896);n(816);function Be(){return r.a.createElement("div",{className:"Loading"},r.a.createElement(Le.a,{color:"secondary"}))}var We=n(905),Ue=n(900),He=n(898),Je=n(899),Ve=n(897);function qe(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(We.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Ve.a,{id:"alert-dialog-title"},e.title),r.a.createElement(He.a,null,r.a.createElement(Je.a,{id:"alert-dialog-description"},e.message)),r.a.createElement(Ue.a,null,r.a.createElement(Se.a,{onClick:e.handleClose,color:"primary",autoFocus:!0},"Continuar"))))}n(817);var Xe=function(e){function t(){var e;return Object(W.a)(this,t),(e=Object(H.a)(this,Object(J.a)(t).call(this))).state={errorInRequest:!1,modalOpen:!1,aboutModalOpen:!0},e.handleOnSelect=e.handleOnSelect.bind(Object(V.a)(e)),e.handleOnFilter=e.handleOnFilter.bind(Object(V.a)(e)),e.handleModalClose=e.handleModalClose.bind(Object(V.a)(e)),e.switchAboutModal=e.switchAboutModal.bind(Object(V.a)(e)),e}return Object(q.a)(t,e),Object(U.a)(t,[{key:"handleOnSelect",value:function(){var e=Object(d.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.props.dispatch((n=t.target.value,{type:T,payload:{city:n}}));case 1:case"end":return e.stop()}var n},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleOnFilter",value:function(){var e=Object(d.a)(u.a.mark(function e(){var t,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.city,n=this.props.originCities.includes(function(e){return e.id===t})?0:1,e.prev=2,this.props.dispatch(O(n,t)),e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(2),e.next=10,this.setState({errorInRequest:!0,modalOpen:!0,errorMessage:"Ocurri\xf3 un error al momento de consultar las ciudades disponibles. Int\xe9ntelo m\xe1s tarde. Al hacer click en continuar se recargar\xe1 el sitio."});case 10:case"end":return e.stop()}},e,this,[[2,6]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,this.props.dispatch(x()),this.props.dispatch(O(0,42)),e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.next=9,this.setState({errorInRequest:!0});case 9:case"end":return e.stop()}},e,this,[[0,5]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleModalClose",value:function(){var e=Object(d.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({errorInRequest:!1});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"switchAboutModal",value:function(){var e=Object(d.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState(function(e){return{aboutModalOpen:!e.aboutModalOpen}});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.modalOpen,n=e.errorInRequest,a=e.aboutModalOpen,i=this.props,o=i.error,c=i.loading,l=i.predictions,s=i.cities,u=i.city;return a?r.a.createElement(qe,{open:a,title:re,message:ie,handleClose:this.switchAboutModal}):n||o?r.a.createElement(qe,{open:t,title:ne,message:ae,handleClose:this.handleModalClose}):r.a.createElement("div",{className:"Flex CustomFontSize"},r.a.createElement("div",null,r.a.createElement(Ne,{open:a,title:re,message:ie,handleOpen:this.switchAboutModal})),r.a.createElement("div",{className:"PageElements"},r.a.createElement("div",{className:"LogosAndFilter"},r.a.createElement(ze,null),r.a.createElement(De,{selectedMarket:u,markets:s,handleOnSelect:this.handleOnSelect,handleDirectionChange:this.handleDirectionChange,handleOnFilter:this.handleOnFilter})),c?r.a.createElement(Be,null):r.a.createElement(Oe,{predictions:l})))}}]),t}(a.Component),Ge=Object(L.b)(function(e){return e.predictionsReducer})(Xe);var Ye=function(e){var t=e.store;return r.a.createElement(L.a,{store:t},r.a.createElement(R.a,null,r.a.createElement(z.c,null,r.a.createElement(z.a,{exact:!0,path:"/",component:Ge}),r.a.createElement(z.a,{exact:!0,path:"/about",component:B}),r.a.createElement(z.a,{path:"*",component:Ge}))))};Z.a.locale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekdaysMin:"Do_Lu_Ma_Mie_Jue_Vie_Sa".split("_"),weekdaysShort:"do._lun._ma._mie._jue._vie._sa.".split("_"),weekdays:"domingo_lunes_martes_miercoles_jueves_viernes_sabado".split("_"),weekdaysParseExact:!0});var Ke=Object(c.d)(D,Object(c.a)(F.a));o.a.render(r.a.createElement(Ye,{store:Ke}),document.getElementById("root"))}},[[456,1,2]]]);
//# sourceMappingURL=main.04bc9eae.chunk.js.map